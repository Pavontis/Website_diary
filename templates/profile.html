<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">
<div class="d-flex">
  {% include 'navbar.html' %}
  <div class="container p-4 w-100">
    <h1 class="mb-4">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ—Ñ–∏–ª—è</h1>
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <div class="mb-3">
        {% for category, message in messages %}
          <div class="alert alert-{{ category }} alert-dismissible fade show" role="alert">
            {{ message }}
            <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
          </div>
        {% endfor %}
      </div>
    {% endif %}
    {% endwith %}

    <div class="row align-items-start">
      <!-- –õ–µ–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞: —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–º–µ–Ω–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -->
      <div class="col-md-6 mb-4">
        <form method="POST" action="{{ url_for('profile') }}" class="bg-white p-4 rounded shadow-sm d-flex flex-column">
          <h5 class="mb-3">–î–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è</h5>
          <div class="mb-3">
            <label for="username" class="form-label">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</label>
            <input type="text" class="form-control" name="username" id="username" value="{{ user['username'] }}" required>
          </div>
          <div class="mt-3">
            <button type="submit" class="btn btn-primary w-100">üíæ –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è</button>
          </div>
        </form>
      </div>

      <!-- –ü—Ä–∞–≤–∞—è –∫–∞—Ä—Ç–æ—á–∫–∞: —Å–º–µ–Ω–∞ –ø–∞—Ä–æ–ª—è -->
      <div class="col-md-6 mb-4">
        <form method="POST" action="{{ url_for('change_password') }}" class="bg-white p-4 rounded shadow-sm d-flex flex-column">
          <h5 class="mb-3">–°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</h5>
          <div class="mb-3">
            <label for="current_password" class="form-label">–¢–µ–∫—É—â–∏–π –ø–∞—Ä–æ–ª—å</label>
            <input type="password" class="form-control" name="current_password" id="current_password" required>
          </div>
          <div class="mb-3">
            <label for="new_password" class="form-label">–ù–æ–≤—ã–π –ø–∞—Ä–æ–ª—å</label>
            <input type="password" class="form-control" name="new_password" id="new_password" required>
          </div>
          <div class="mt-3">
            <button type="submit" class="btn btn-primary w-100">üîê –°–º–µ–Ω–∏—Ç—å –ø–∞—Ä–æ–ª—å</button>
          </div>
        </form>
      </div>
    </div>

    <!-- –£–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞ -->
    <div class="row">
      <div class="col-md-12 mb-4">
        <form method="POST" action="{{ url_for('delete_account') }}"
              onsubmit="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã? –≠—Ç–æ –¥–µ–π—Å—Ç–≤–∏–µ –Ω–µ–æ–±—Ä–∞—Ç–∏–º–æ.');"
              class="bg-white p-4 rounded shadow-sm">
          <h5 class="text-danger mb-3">–£–¥–∞–ª–µ–Ω–∏–µ –∞–∫–∫–∞—É–Ω—Ç–∞</h5>
          <p class="text-muted mb-3">–í–∞—à –ø—Ä–æ—Ñ–∏–ª—å –∏ –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –±—É–¥—É—Ç –±–µ–∑–≤–æ–∑–≤—Ä–∞—Ç–Ω–æ —É–¥–∞–ª–µ–Ω—ã.</p>
          <button type="submit" class="btn btn-danger w-100">üóëÔ∏è –£–¥–∞–ª–∏—Ç—å –∞–∫–∫–∞—É–Ω—Ç</button>
        </form>
      </div>
    </div>
  </div>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
